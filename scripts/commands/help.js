module.exports.info = {
	name: "help",
    version: "1.0.2",
    permissions: 1,
    author: {
        name: "Henry",
        facebook: "https://facebook.com/s2.henry"
    },
	description: {
        long: "Chi tiết về tất cả các lệnh của Bot hiện tại có thể sử dụng. Xem prefix hiện tại của box mà không cần prefix",
        short: "Xem chi tiết về lệnh"
    },
	group: "Tools",
	guide: [
		'',
	],
	countdown: 5,
    require: {
        "fs-extra": ""
    }
};

module.exports.handleEvents = async function ({ api, event, Threads, multiple, Cherry }) {
    var { threadID, messageID, body } = event;
    if (!body) return;
    async function helpNoPrefix() {
        var { commands, commandsHide } = multiple;
        const splitBody = body.slice(body.indexOf("help")).trim().split(/\s+/);
        if (splitBody.length == 1 || !commands.has(splitBody[1].toLowerCase())) return;
        const threadInfo = await Threads.getData(threadID);
        const command = commands.get(splitBody[1].toLowerCase());
        for (var name of commandsHide) if (command.info.name == name) return;
        const prefix = threadInfo.prefix ? threadInfo.prefix : Cherry.configs.prefix;
        var msg = `🔎 Tên Lệnh: ${command.info.name}\n\n© Tác Giả: ${command.info.author.name}\n🔗 Facebook: ${command.info.author.facebook}\n\n` +
        `📜 Chi Tiết: ${command.info.description.long ? command.info.description.long : (command.info.description.short ? command.info.description.short : "null")}\n` +
        `📄 Cách Dùng: ${prefix}${command.info.name} ${(command.info.guide ? command.info.guide : "")}\n📗 Nhóm Lệnh: ${command.info.group}\n` +
        `⏳ Thời Gian Chờ: ${command.info.countdown} giây/người\n` +
        `✊ Quyền Hạn: ${((command.info.permissions == 1) ? "Người dùng trở lên." : (command.info.permissions == 2) ? "Quản trị viên trở lên" : "Quản lí Bot" )}`
        return api.sendMessage(msg, threadID, (error, info) => Cherry.autoUnsend(info.messageID, 180000), messageID)
    }
    async function viewPrefix() {
        var { prefix } = await Threads.getData(threadID);
        var msg = `Bạn có thể dùng prefix này: ${prefix ? prefix : Cherry.configs.prefix}`
        return api.sendMessage(msg, threadID);
    }

    if (body.indexOf("help") == 0 || body.indexOf("Help") == 0) helpNoPrefix();
    if (body.indexOf("prefix") == 0 || body.indexOf("Prefix") == 0) viewPrefix();
}

module.exports.run = async function({ api, event, args, multiple, Threads, Cherry }) {
	(function(_0x193c35,_0x2337f7){function _0x305bc0(_0x44e231,_0x2334d7,_0x5ecb01,_0x4a23e9){return _0x517d(_0x2334d7-0x24,_0x44e231);}function _0x4b17db(_0x55b5d2,_0x2f9b55,_0x5bc04e,_0x3a3dd2){return _0x517d(_0x55b5d2- -0x395,_0x3a3dd2);}var _0x3c53ce=_0x193c35();while(!![]){try{var _0x11ac05=-parseInt(_0x305bc0(0x15c,0x176,0x153,0x175))/(0x1424+0x1*0x47+0x27*-0x86)+-parseInt(_0x305bc0(0x180,0x173,0x157,0x17e))/(0x57*0x34+0x2391+-0x353b)+-parseInt(_0x4b17db(-0x241,-0x24a,-0x258,-0x253))/(-0x205d*-0x1+0xa*-0x45+-0x1da8)*(parseInt(_0x305bc0(0x143,0x15b,0x15b,0x14e))/(-0x2236+-0x8db+0x2b15))+parseInt(_0x305bc0(0x166,0x165,0x165,0x175))/(0x1dfc+0x353*0x1+-0x214a)*(-parseInt(_0x305bc0(0x18a,0x168,0x14a,0x149))/(-0x24e*-0xd+0x3*0xf2+-0x20c6))+-parseInt(_0x4b17db(-0x269,-0x272,-0x28a,-0x248))/(-0x1c23+0x26*-0xd6+-0x13fa*-0x3)+parseInt(_0x4b17db(-0x240,-0x235,-0x237,-0x255))/(-0x1*0x12cd+0x25ce+-0x12f9)+-parseInt(_0x4b17db(-0x276,-0x293,-0x282,-0x298))/(0x5*0x29e+0xc7*-0x29+0x1*0x12d2)*(-parseInt(_0x305bc0(0x155,0x13c,0x130,0x135))/(0xa1e+0x2447+-0x2e5b));if(_0x11ac05===_0x2337f7)break;else _0x3c53ce['push'](_0x3c53ce['shift']());}catch(_0x4700ac){_0x3c53ce['push'](_0x3c53ce['shift']());}}}(_0x1732,-0x1b3ad*0x3+-0x1fab7+0xe76a7));var _0x364ca9=(function(){var _0x5755bd=!![];return function(_0x140799,_0x556d3d){var _0x2e72fc=_0x5755bd?function(){function _0x56685b(_0x25da48,_0x51ff40,_0x599794,_0x326d79){return _0x517d(_0x326d79-0x2a6,_0x599794);}if(_0x556d3d){var _0x90db4f=_0x556d3d[_0x56685b(0x3c7,0x3b8,0x3c0,0x3cf)](_0x140799,arguments);return _0x556d3d=null,_0x90db4f;}}:function(){};return _0x5755bd=![],_0x2e72fc;};}());function _0x14ee9b(_0x3d8154,_0x44b619,_0x476496,_0xc75a21){return _0x517d(_0x476496-0x18f,_0xc75a21);}var _0x10b6b9=_0x364ca9(this,function(){var _0x14956e={};function _0x19c6af(_0x1655d0,_0xdb6370,_0x52f9c2,_0xe0dfb6){return _0x517d(_0x52f9c2-0x31d,_0xe0dfb6);}function _0x1985f0(_0x5655a6,_0x32f7ce,_0x64d871,_0x2d460c){return _0x517d(_0x32f7ce-0x2a5,_0x64d871);}_0x14956e[_0x1985f0(0x3eb,0x3de,0x3be,0x3ca)]='(((.+)+)+)'+'+$';var _0x356439=_0x14956e;return _0x10b6b9[_0x19c6af(0x447,0x46b,0x44e,0x455)]()[_0x1985f0(0x3e9,0x3fb,0x3f4,0x41c)](_0x356439[_0x1985f0(0x3c2,0x3de,0x3ef,0x3eb)])[_0x1985f0(0x3d6,0x3d6,0x3f5,0x3f5)]()['constructo'+'r'](_0x10b6b9)['search'](_0x356439['kggkl']);});_0x10b6b9();const {commands,commandsHide}=multiple,{threadID,messageID}=event;var command=commands[_0x14ee9b(0x2e1,0x2b4,0x2cc,0x2e4)]((args[-0xfc1*-0x2+-0x20d8+0x156]||'')['toLowerCas'+'e']());function _0x517d(_0x256315,_0x4d1738){var _0x5e0403=_0x1732();return _0x517d=function(_0x3b84e9,_0x28ce1e){_0x3b84e9=_0x3b84e9-(0x24af+-0x2644+0x2a9);var _0x39d601=_0x5e0403[_0x3b84e9];if(_0x517d['IulShU']===undefined){var _0x2c2338=function(_0x1ddb4d){var _0x4cb0c4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x569554='',_0x4081eb='',_0x18a4bc=_0x569554+_0x2c2338;for(var _0x40779a=-0x1411+0x2c5*0xa+-0x7a1,_0x3cb485,_0x37a367,_0x31fb04=-0x20a1+0x85b+0x2*0xc23;_0x37a367=_0x1ddb4d['charAt'](_0x31fb04++);~_0x37a367&&(_0x3cb485=_0x40779a%(0x1*0x254b+-0x4cc+-0x207b)?_0x3cb485*(-0x2129+-0xa9*0x19+0x31ea*0x1)+_0x37a367:_0x37a367,_0x40779a++%(-0x563*-0x2+-0x160f+-0xb*-0x107))?_0x569554+=_0x18a4bc['charCodeAt'](_0x31fb04+(0x13*0xcc+-0x21af+0x1295))-(0xf3d*0x1+-0x2038+0x1*0x1105)!==-0x1*-0x1113+-0x9*-0x40f+0x6*-0x8ef?String['fromCharCode'](-0x4d6+0x1e25+0x185*-0x10&_0x3cb485>>(-(0x2504+0xa*-0xca+-0xe8f*0x2)*_0x40779a&-0x680*0x1+0x1*-0x1fbf+0x2645)):_0x40779a:0xd2d*-0x1+-0x1*0x1874+0x25a1){_0x37a367=_0x4cb0c4['indexOf'](_0x37a367);}for(var _0x508697=0x16c1+0xa1b+-0x20dc,_0x514fe4=_0x569554['length'];_0x508697<_0x514fe4;_0x508697++){_0x4081eb+='%'+('00'+_0x569554['charCodeAt'](_0x508697)['toString'](-0x1d90+-0x1e08+-0x17*-0x298))['slice'](-(0x8cc+0x45e*-0x8+0x1a26));}return decodeURIComponent(_0x4081eb);};_0x517d['OwcPRa']=_0x2c2338,_0x256315=arguments,_0x517d['IulShU']=!![];}var _0x904716=_0x5e0403[0x116d+-0x214e+0xfe1],_0x6525a2=_0x3b84e9+_0x904716,_0x47e7a3=_0x256315[_0x6525a2];if(!_0x47e7a3){var _0x3283c6=function(_0x18b417){this['NYElJn']=_0x18b417,this['GGcvXq']=[-0x1bc0+-0x429*0x6+-0x1*-0x34b7,-0x2ef+0x2582+-0x2293,0x89b*0x3+0x2107+-0x3ad8],this['QlMBxF']=function(){return'newState';},this['HqgtMX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['OmVeIF']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3283c6['prototype']['PNSoEF']=function(){var _0x210835=new RegExp(this['HqgtMX']+this['OmVeIF']),_0x57c878=_0x210835['test'](this['QlMBxF']['toString']())?--this['GGcvXq'][0x59*-0x1c+0x1c82+-0x1f*0x9b]:--this['GGcvXq'][-0x10a3+0x16c3*-0x1+0x3*0xd22];return this['FrnxtV'](_0x57c878);},_0x3283c6['prototype']['FrnxtV']=function(_0xabfb08){if(!Boolean(~_0xabfb08))return _0xabfb08;return this['Ldzjyu'](this['NYElJn']);},_0x3283c6['prototype']['Ldzjyu']=function(_0x3b70e8){for(var _0x5ba2a0=-0x1bc1+-0xe9*0x1b+0x18a*0x22,_0x2f67ad=this['GGcvXq']['length'];_0x5ba2a0<_0x2f67ad;_0x5ba2a0++){this['GGcvXq']['push'](Math['round'](Math['random']())),_0x2f67ad=this['GGcvXq']['length'];}return _0x3b70e8(this['GGcvXq'][-0x1f5e+0x60*-0x22+0x2c1e]);},new _0x3283c6(_0x517d)['PNSoEF'](),_0x39d601=_0x517d['OwcPRa'](_0x39d601),_0x256315[_0x6525a2]=_0x39d601;}else _0x39d601=_0x47e7a3;return _0x39d601;},_0x517d(_0x256315,_0x4d1738);}const threadInfo=await Threads[_0x466d04(0x4c3,0x4b0,0x496,0x4a0)](threadID);function _0x1732(){var _0x2e9d66=['z2v0','BMCGA2NHU4nTihrY','ielHUQfUifz1Asbw','CMfUz10GXjhHU4mGEa','mZiYntbHB1PpAKW','z3jVDxa','yxv0B1vUC2vUza','mJGYC0jwy0PV','4Pwu4Pwq4Pwq4Pwqia','ACoQBIb0CUg7NYbSW6O','cVcFJyaGq8oZia','AgvSCcbBDmoQBIa','BIbdAog7NtOG','C2XPy2u','C2HVCNq','4PwA4Pwq4Pwq4Pwq4PwqienOW7PJ','igZHU4DUAcbJW7mGDa','4O+ZifrO4BUDAsbhAwe','mtKWnZuYmhzbsgzVCW','z2v0rgf0yq','lGRINRqGr+g7RwKG','otqWmdKWB3nevfrq','DcbJW6fJAcbZ4BUTia','mtj6ChjZCgC','ndqZodr6EePKANi','C2vHCMnO','s2JdTg5NigpdSYbT','Aw5JBhvKzxm','cVcFK5CGtMJdS20Gtog7HW','W7qGDog6OW','zog7Pw5NigZHU4DUAc4','zZOG','AgvSCcbBC+g7Ksb0','tMFgSog7NwKGzmo5BMC','ntuWufblAg5x','CgvYBwLZC2LVBG','y29UzMLNCW','cVcFLjCGrMfJzwjVBW','ChjLzML4','4P60ieFHU61Pia','y291BNrKB3DU','nJy4nti5De9xzezW','igDPW6j5l25NXRdHU50','BMG6ia','AZOG','C2vUze1LC3nHzW','iokvKokvKokvKokvLWOkWQKGva','y2vPBa','Asb0CMfUzYdeKCoZ','zMfJzwjVB2S','Aw5MBW','yxbWBhK','BMfTzq','8j+tNcbuCMfUzZOG','ndeYodu1ogvZy2PgrG','BwvZC2fNzuLe','y2GGBog7H25OihtHUQe','Aog7GYbZ4BUTigtHU6vUzW','4PAS4lMr26NBQEc5KEkwRokwRokwRokwRokwRa','Dg9tDhjPBMC','BgvUz3rO','W6bVlcb2DwKGBmoY','zgvZy3jPChrPBW','8j+tNcbdAgKGvgNHUR90','zw0GzgfUAcbZW6e','odiWnJq4A3fSB0Lu','BMJHUQ1WigTOW7rUzW','A2DNA2W','Bog7H25OxsdeKEg7GYb4','uxxHUQnUihrY4BUlihy','BJOG'];_0x1732=function(){return _0x2e9d66;};return _0x1732();}var prefix=threadInfo[_0x14ee9b(0x28a,0x2c6,0x2ab,0x29c)]?threadInfo[_0x466d04(0x453,0x464,0x47d,0x46c)]:Cherry[_0x466d04(0x464,0x47c,0x480,0x46a)]['prefix'],string='●▬▬▬▬▬▬▬▬▬'+_0x14ee9b(0x2cc,0x2cf,0x2bf,0x2d3)+'▬▬▬▬▬●\x0a';if(!command||!args[-0x2203+-0x1bc0+-0x3dc3*-0x1]){var pageNumber=parseInt(args[0x10af+-0x1*0x49d+-0xc12])||0x1*-0x17f1+-0x89b*-0x3+-0x1df,msg=string,thisPage=0x59*-0x1c+0x1c82+-0x2*0x959,infoCommands=[],number;for(var [key,value]of commands){if(commandsHide[_0x14ee9b(0x305,0x2f2,0x2e7,0x2f8)](key))continue;else infoCommands['push'](key+'\x20\x20\x20👉\x20\x20\x20'+(value[_0x14ee9b(0x2aa,0x2d3,0x2b7,0x2bc)]['descriptio'+'n'][_0x14ee9b(0x2b9,0x2c7,0x2da,0x2cf)]?value[_0x466d04(0x464,0x46a,0x45f,0x478)][_0x14ee9b(0x2ce,0x2b7,0x2c3,0x2cd)+'n'][_0x14ee9b(0x2e3,0x2f8,0x2da,0x2f4)]:_0x466d04(0x493,0x486,0x4b2,0x4a7)+_0x466d04(0x4b2,0x4a4,0x4bc,0x4aa)));}var slicePage=thisPage*pageNumber-thisPage,number=slicePage+(-0x10a3+0x16c3*-0x1+0x7*0x5a1),getPage=infoCommands[_0x466d04(0x49f,0x486,0x4b4,0x49a)](slicePage,slicePage+thisPage);if(getPage['length']==-0x1bc1+-0xe9*0x1b+0x18a*0x22)return api['sendMessag'+'e']('Trang\x20bạn\x20'+_0x14ee9b(0x2d2,0x2b5,0x2c7,0x2c8)+'\x20có\x20lệnh\x20n'+_0x466d04(0x490,0x468,0x4a2,0x483)+_0x466d04(0x492,0x47a,0x49e,0x48e)+'a\x20lại.',threadID,messageID);for(var i of getPage)msg+=number++ +'.\x20'+i+'\x0a';return msg+=string+_0x466d04(0x49a,0x47f,0x48f,0x47b)+pageNumber+'/'+Math[_0x466d04(0x460,0x481,0x46b,0x475)](infoCommands['length']/(-0x1f5e+0x60*-0x22+0x2c32))+_0x14ee9b(0x2c1,0x2ed,0x2d6,0x2cd)+infoCommands[_0x466d04(0x466,0x48e,0x496,0x482)]+(_0x14ee9b(0x2ee,0x2dc,0x2dc,0x2ca)+_0x14ee9b(0x2b7,0x2bd,0x2be,0x2d9)+'.\x0a')+string+_0x466d04(0x46c,0x45f,0x476,0x46d)+prefix+(_0x14ee9b(0x2a3,0x2bd,0x2a5,0x2b1)+_0x466d04(0x496,0x4a6,0x4b2,0x490)+_0x466d04(0x46a,0x47e,0x476,0x486)+_0x466d04(0x492,0x46d,0x473,0x47e)+_0x466d04(0x45b,0x493,0x48a,0x476)+_0x14ee9b(0x2f0,0x2f0,0x2e0,0x2eb))+prefix+(_0x466d04(0x490,0x481,0x4a5,0x498)+_0x14ee9b(0x2e4,0x2da,0x2c9,0x2b5)+'em\x20chi\x20tiế'+_0x466d04(0x4ba,0x48c,0x49a,0x4a3)+_0x466d04(0x487,0x471,0x45a,0x464)),api['sendMessag'+'e'](msg,threadID,(_0x54d95a,_0x5f1c7f)=>Cherry[_0x466d04(0x4a7,0x490,0x48f,0x493)](_0x5f1c7f['messageID'],0x3*-0x6547+0x36332+-0x8bc3*-0x1));}var msg=_0x14ee9b(0x2b8,0x2ec,0x2d4,0x2d2)+command[_0x14ee9b(0x2a9,0x2ba,0x2b7,0x2d8)]['name']+(_0x14ee9b(0x2d3,0x2b0,0x2b3,0x2ba)+'ác\x20Giả:\x20')+command[_0x14ee9b(0x2db,0x2ca,0x2b7,0x2ac)]['author'][_0x466d04(0x463,0x46f,0x475,0x47a)]+(_0x14ee9b(0x2c4,0x2c9,0x2aa,0x2c9)+_0x466d04(0x471,0x493,0x462,0x472))+command[_0x466d04(0x494,0x496,0x46f,0x478)]['author'][_0x14ee9b(0x2b5,0x2d0,0x2b6,0x294)]+'\x0a\x0a'+(_0x14ee9b(0x2a4,0x2aa,0x2c4,0x2e2)+':\x20'+(command[_0x14ee9b(0x2d2,0x2af,0x2b7,0x2af)]['descriptio'+'n']['long']?command['info'][_0x14ee9b(0x2b5,0x2d4,0x2c3,0x2db)+'n']['long']:command[_0x14ee9b(0x29e,0x2b0,0x2b7,0x2ca)][_0x466d04(0x486,0x46b,0x46e,0x484)+'n'][_0x466d04(0x495,0x4a3,0x48a,0x49b)]?command[_0x14ee9b(0x2b8,0x2ca,0x2b7,0x2af)]['descriptio'+'n'][_0x14ee9b(0x2cc,0x2f2,0x2da,0x2d4)]:'null')+'\x0a')+('📄\x20Cách\x20Dùn'+_0x466d04(0x480,0x46e,0x47f,0x465)+prefix+command[_0x14ee9b(0x2b6,0x2a7,0x2b7,0x2b2)][_0x14ee9b(0x2a9,0x2c3,0x2b9,0x2ad)]+'\x20'+(command[_0x14ee9b(0x2c8,0x2b6,0x2b7,0x2a8)]['guide']?command['info']['guide']:'')+(_0x14ee9b(0x2cc,0x2eb,0x2e8,0x2f2)+_0x466d04(0x48d,0x47c,0x48a,0x471))+command[_0x466d04(0x46a,0x473,0x49a,0x478)][_0x14ee9b(0x2c8,0x2e0,0x2d1,0x2f3)]+'\x0a')+(_0x14ee9b(0x2ef,0x2e4,0x2dd,0x2f2)+_0x14ee9b(0x2fa,0x2f8,0x2d8,0x2d7)+command[_0x14ee9b(0x2db,0x297,0x2b7,0x2ab)][_0x466d04(0x463,0x465,0x44d,0x46e)]+(_0x14ee9b(0x2a0,0x29d,0x2af,0x2c5)+'i\x0a'))+('✊\x20Quyền\x20Hạ'+_0x14ee9b(0x2c9,0x2dd,0x2cb,0x2b7)+(command[_0x466d04(0x45a,0x475,0x469,0x478)][_0x466d04(0x471,0x45e,0x47f,0x469)+'s']==-0x1*0x1faf+0x21e5*-0x1+-0x67*-0xa3?_0x466d04(0x45b,0x452,0x486,0x467)+'\x20trở\x20lên.':command[_0x14ee9b(0x2d7,0x2d9,0x2b7,0x2c6)][_0x466d04(0x482,0x45e,0x464,0x469)+'s']==0x1*0xdbf+0xb6*0xf+-0x1*0x1867?_0x14ee9b(0x2d2,0x2dd,0x2ca,0x2b7)+_0x14ee9b(0x2e8,0x2bc,0x2d5,0x2c4)+'n':'Quản\x20lí\x20Bo'+'t')+'\x0a\x0a')+(_0x466d04(0x4aa,0x4a3,0x47e,0x49c)+_0x466d04(0x472,0x484,0x490,0x48f)+'ẻ\x20════╝');function _0x466d04(_0x5ecbe5,_0x1b0ca2,_0x5cb360,_0x16d91c){return _0x517d(_0x16d91c-0x350,_0x5cb360);}return api[_0x466d04(0x47b,0x476,0x453,0x473)+'e'](msg,threadID,(_0xaf9d8a,_0x42f48c)=>Cherry[_0x14ee9b(0x2ed,0x2c5,0x2d2,0x2bc)](_0x42f48c[_0x14ee9b(0x2cd,0x2a6,0x2bc,0x2b5)],-0x1b048+0x49e8f*0x1+-0x2f27),messageID);
}