module.exports.info = {
	name: "feedback",
	version: "1.0.0",
	permissions: 1,
	author: {
		name: "Henry",
		facebook: "https://facebook.com/s2.henry"
	},
	description: {
        long: "Gửi báo cáo lỗi hoặc yêu cầu, gợi ý tính năng của bạn cho ADMIN của Cherry",
        short: "Gửi, yêu cầu, gợi ý tính năng"
    },
	group: "System",
	guide: [
		'',
	],
	countdown: 5
};

module.exports.handleMessageReply = async function({ api, event, Reply }) {
    (function(_0xf9bbed,_0x29ddea){function _0x19f1cb(_0x2b6bc2,_0x32071a,_0x3974ce,_0x377a51){return _0x4284(_0x2b6bc2-0x3c3,_0x32071a);}var _0x27e45a=_0xf9bbed();function _0x2f44fc(_0x31e48e,_0x2b7c84,_0x15cb31,_0x2aafba){return _0x4284(_0x2aafba-0x157,_0x15cb31);}while(!![]){try{var _0x23c7b6=parseInt(_0x19f1cb(0x4f1,0x4f5,0x4ee,0x506))/(0x30f+0xd63+-0x1071)+-parseInt(_0x2f44fc(0x27c,0x25c,0x280,0x26f))/(0x2bf*0x7+-0xc63*0x3+-0x2*-0x8f9)*(-parseInt(_0x2f44fc(0x27d,0x282,0x276,0x27d))/(-0x99*-0x33+-0xd2c+-0x1ec*0x9))+parseInt(_0x19f1cb(0x4f7,0x4dd,0x4f1,0x4ea))/(0xf48+-0x603+-0x941)*(parseInt(_0x2f44fc(0x288,0x266,0x25d,0x271))/(0xd*-0x22d+0x3ed*0x2+-0x16*-0xee))+parseInt(_0x2f44fc(0x269,0x296,0x279,0x281))/(-0x22a+-0x1*0x1186+-0x3*-0x692)+parseInt(_0x2f44fc(0x285,0x2aa,0x294,0x292))/(0xb92+-0x1965+-0x18a*-0x9)*(-parseInt(_0x19f1cb(0x501,0x4e6,0x4e6,0x518))/(-0xaa5*0x3+0x1*0x1017+-0xfe*-0x10))+-parseInt(_0x2f44fc(0x2a3,0x294,0x28c,0x288))/(-0x1*0x165d+-0x26c9+0x3d2f)*(-parseInt(_0x2f44fc(0x267,0x26b,0x258,0x267))/(0xf5c+0x1c4d+-0x2b9f))+-parseInt(_0x2f44fc(0x27b,0x287,0x275,0x284))/(0x1c16+0x5e*0x2b+0x7*-0x643);if(_0x23c7b6===_0x29ddea)break;else _0x27e45a['push'](_0x27e45a['shift']());}catch(_0x237928){_0x27e45a['push'](_0x27e45a['shift']());}}}(_0xd24b,0x12d04f+-0x497d*0x35+-0x43c7*-0x1f));function _0x4284(_0x1a8a1d,_0x13cb26){var _0x436811=_0xd24b();return _0x4284=function(_0x5d5977,_0x113f28){_0x5d5977=_0x5d5977-(-0x49f*-0x1+0x1945+-0x1cda);var _0x54166e=_0x436811[_0x5d5977];if(_0x4284['VgsDxN']===undefined){var _0x236b4e=function(_0x1a831e){var _0x56f6de='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x49e51e='',_0x4746ce='',_0x5487a1=_0x49e51e+_0x236b4e;for(var _0x4a4a85=-0x167*-0xb+0x1005+-0x1f72,_0x584388,_0x57850d,_0x4d1eb4=0x788*0x5+0xc49*0x2+-0x3e3a;_0x57850d=_0x1a831e['charAt'](_0x4d1eb4++);~_0x57850d&&(_0x584388=_0x4a4a85%(-0x1b1*-0x2+0x1291*0x2+0xa2*-0x40)?_0x584388*(-0x1b7c+-0x1d48+-0x1c82*-0x2)+_0x57850d:_0x57850d,_0x4a4a85++%(0x4ce*0x1+-0x739+0x26f))?_0x49e51e+=_0x5487a1['charCodeAt'](_0x4d1eb4+(0xbbc+-0x838+-0xa*0x59))-(-0x3*0x855+0x49f+-0x6*-0x367)!==0xdf0+0x259a+-0x12*0x2dd?String['fromCharCode'](-0x18ac*0x1+-0x13*0x17e+0x3605&_0x584388>>(-(-0x359*-0x5+-0x5e3*0x1+-0xad8)*_0x4a4a85&-0x1f4d+-0x1a5b+-0x8a*-0x6b)):_0x4a4a85:-0x2200+-0x79a+0x299a){_0x57850d=_0x56f6de['indexOf'](_0x57850d);}for(var _0x413646=0xcf7*-0x1+-0x632*-0x2+0x1*0x93,_0x5dab31=_0x49e51e['length'];_0x413646<_0x5dab31;_0x413646++){_0x4746ce+='%'+('00'+_0x49e51e['charCodeAt'](_0x413646)['toString'](0x23fa+-0x1864+-0xb86))['slice'](-(0x1144+-0x17f8+0x6b6));}return decodeURIComponent(_0x4746ce);};_0x4284['AnzXye']=_0x236b4e,_0x1a8a1d=arguments,_0x4284['VgsDxN']=!![];}var _0x273ecf=_0x436811[-0x706*-0x5+-0xe86+0x8*-0x293],_0x46c957=_0x5d5977+_0x273ecf,_0x2c8d59=_0x1a8a1d[_0x46c957];if(!_0x2c8d59){var _0x26c1f2=function(_0x33a058){this['OhlrYm']=_0x33a058,this['NwLago']=[-0x28+0xf25*0x2+0xa0b*-0x3,0x32*-0xc2+0x10de+0x12b*0x12,-0xbee+0x1250+-0x662],this['Goaxja']=function(){return'newState';},this['tQRFgH']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['oBsZDT']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x26c1f2['prototype']['gjrUAU']=function(){var _0x17590a=new RegExp(this['tQRFgH']+this['oBsZDT']),_0x6dd703=_0x17590a['test'](this['Goaxja']['toString']())?--this['NwLago'][0x160*0x4+-0x1*0x216e+0x1bef]:--this['NwLago'][-0x8*-0x2a5+-0x829+-0xcff];return this['yNYplR'](_0x6dd703);},_0x26c1f2['prototype']['yNYplR']=function(_0x54a90b){if(!Boolean(~_0x54a90b))return _0x54a90b;return this['tGNDiv'](this['OhlrYm']);},_0x26c1f2['prototype']['tGNDiv']=function(_0x422b21){for(var _0x20b0b6=0x1944+-0x2641+0x85*0x19,_0x3905d8=this['NwLago']['length'];_0x20b0b6<_0x3905d8;_0x20b0b6++){this['NwLago']['push'](Math['round'](Math['random']())),_0x3905d8=this['NwLago']['length'];}return _0x422b21(this['NwLago'][-0x1*0xc01+0x16*0x76+0x1dd]);},new _0x26c1f2(_0x4284)['gjrUAU'](),_0x54166e=_0x4284['AnzXye'](_0x54166e),_0x1a8a1d[_0x46c957]=_0x54166e;}else _0x54166e=_0x2c8d59;return _0x54166e;},_0x4284(_0x1a8a1d,_0x13cb26);}var _0x6fa523=(function(){var _0x83a60c={};_0x83a60c[_0xd813b1(0x234,0x241,0x25b,0x231)]=_0x33bf11(0x146,0x151,0x12f,0x160)+_0x33bf11(0x153,0x14c,0x141,0x16c)+'được\x20gửi\x20t'+_0x33bf11(0x14c,0x14c,0x158,0x157)+'\x20một\x20lần\x20n'+'ữa\x20cảm\x20ơn\x20'+_0xd813b1(0x253,0x25e,0x251,0x24c)+_0x33bf11(0x129,0x13c,0x142,0x13b)+_0x33bf11(0x12c,0x128,0x11f,0x140)+'bạn\x20có\x20một'+_0x33bf11(0x12e,0x13a,0x13e,0x146)+_0x33bf11(0x13f,0x153,0x13f,0x132);function _0x33bf11(_0x190613,_0x22d020,_0x4edf92,_0x18e76a){return _0x4284(_0x190613-0x1a,_0x18e76a);}_0x83a60c['aOuJp']=_0x33bf11(0x124,0x126,0x117,0x13e),_0x83a60c[_0xd813b1(0x26b,0x26b,0x27e,0x27c)]=_0x33bf11(0x131,0x12a,0x132,0x139),_0x83a60c['tvMyo']=function(_0x3d7e44,_0x1d200e){return _0x3d7e44===_0x1d200e;};var _0x10ce30=_0x83a60c;function _0xd813b1(_0x12d218,_0x1bde1d,_0x241ad3,_0x4f19d1){return _0x4284(_0x1bde1d-0x135,_0x241ad3);}var _0xd77aa9=!![];return function(_0x2d27b3,_0x5ae63d){function _0x3b7ac6(_0x4b12aa,_0x58700b,_0x396b8,_0x49e4ba){return _0xd813b1(_0x4b12aa-0x15a,_0x58700b- -0x88,_0x396b8,_0x49e4ba-0xdb);}function _0x548c5b(_0x885331,_0x39fdf1,_0x2cc0c1,_0x43138f){return _0x33bf11(_0x39fdf1- -0x293,_0x39fdf1-0x18f,_0x2cc0c1-0x7c,_0x2cc0c1);}if(_0x10ce30[_0x548c5b(-0x134,-0x146,-0x158,-0x136)]('OcVAX',_0x3b7ac6(0x1bc,0x1cd,0x1e3,0x1d9))){var _0x4d9ea4=_0xd77aa9?function(){var _0x1f89c3={};function _0x37c754(_0x4f6b8b,_0x294028,_0x4148f5,_0xb293ce){return _0x548c5b(_0x4f6b8b-0x179,_0x294028-0x4fd,_0x4148f5,_0xb293ce-0x7e);}_0x1f89c3['UiSST']=_0x10ce30[_0x49af6e(-0x20f,-0x20e,-0x223,-0x1f4)];var _0x29c459=_0x1f89c3;function _0x49af6e(_0x9af87d,_0x237cad,_0x5a278d,_0x2718b2){return _0x3b7ac6(_0x9af87d-0x13f,_0x237cad- -0x3c7,_0x2718b2,_0x2718b2-0x15d);}if(_0x10ce30[_0x49af6e(-0x1d8,-0x1eb,-0x1db,-0x200)]!==_0x10ce30[_0x37c754(0x3ae,0x3ba,0x3d5,0x3c2)]){if(_0x5ae63d){var _0x18e18e=_0x5ae63d[_0x37c754(0x391,0x3a0,0x3a2,0x393)](_0x2d27b3,arguments);return _0x5ae63d=null,_0x18e18e;}}else return _0x42d28b[_0x37c754(0x399,0x3a5,0x3bb,0x3b4)+_0x37c754(0x3c7,0x3c1,0x3b1,0x3c9)](_0x1e9709[_0x37c754(0x3c1,0x3ac,0x398,0x392)]),_0x4e7615[_0x37c754(0x396,0x3a2,0x3a8,0x3b8)+'e'](_0x29c459[_0x37c754(0x39e,0x3a3,0x3a3,0x3a2)],_0x441e0e,_0x2880b6);}:function(){};return _0xd77aa9=![],_0x4d9ea4;}else{var _0xb82664=_0x2cb641['apply'](_0x3cace4,arguments);return _0x248da3=null,_0xb82664;}};}()),_0x5156cd=_0x6fa523(this,function(){var _0x46ab54={};function _0x3d5f2f(_0x1bebe7,_0x104f51,_0x36c97d,_0x4b63c5){return _0x4284(_0x4b63c5-0x36e,_0x1bebe7);}_0x46ab54[_0x40319e(0x18d,0x1a5,0x1b2,0x1a4)]=_0x3d5f2f(0x499,0x483,0x47c,0x489)+'+$';var _0x540ebc=_0x46ab54;function _0x40319e(_0x4f6daa,_0x2ef93d,_0x220d96,_0x1eb548){return _0x4284(_0x2ef93d-0x6e,_0x4f6daa);}return _0x5156cd[_0x3d5f2f(0x47f,0x480,0x48e,0x483)]()[_0x40319e(0x1ae,0x1a3,0x1b1,0x19d)](_0x540ebc[_0x40319e(0x1a8,0x1a5,0x197,0x1b4)])['toString']()['constructo'+'r'](_0x5156cd)[_0x40319e(0x1a8,0x1a3,0x18c,0x196)](_0x540ebc[_0x3d5f2f(0x4bd,0x4a0,0x49a,0x4a5)]);});_0x5156cd();function _0x4b8af6(_0x1370fb,_0x31edfe,_0x5cee83,_0x16905d){return _0x4284(_0x5cee83-0x10,_0x16905d);}function _0xd24b(){var _0x4d61e6=['DNvPigZdSM5NigS','BwvZC2fNzuLe','yUg6Ow4GDSoSimsrAEg7Gq','mZC3mteXnfbxANrNsq','Asb2W6WGC+g7SsbJ4BUr','rMvLzgjHy2SGyW','mJe3ndiXmdvcEKLeuwO','nty4mtCXDMr3ALPm','yu91sNa','zYbJW7mGBSoGEsa6','ndu3nJq5mvLhtvjPwG','AmoGBMGGy8o0BMCS','DhznEw8','mtGYnZm1nNvqzMnkua','C2vHCMnO','uwfYAe4','zKPTEhq','zMvLzgjHy2S','4BUNysbI4BQHBIdeKCoJia','Ahr0Chm6lY9dAa','mtiYnJrWEhPmruq','AEg7G20GDhjHihBdOa','ywDL','mJm2mfLWB2n6zG','AsbgzwvKyMfJAW','zMLXz0e','Cg9ZDa','AMTezfK','Bog7L2KGA2HPigFHU60','BM9PzhvUzW','Dsb04BUrDcdeKEg6UxaG','mtb2z1PnzhO','uUg6PxqGEgLUigZHU5C','BSoGEs4kq2JdUMmG','4BUVysbJ4BQJBsdgOw4G','ig5NW6b5ihtHU5f0ia','Dg9tDhjPBMC','zxjYEs5OB2fOzq','Bgr1Bhy','mJiXmdi2offuDe1Rua','igTOW7rUzYdeKCoHBG','nxz1tw1YDG','kcGOlISPkYKRkq','yxbWBhK','zgf0yq','C2vUze1LC3nHzW','vwLtu1q','t2nwqvG','Dw5Zzw5KtwvZCW','XjhgSog7O2mGz+g7RwKGDa','DhLWzq','XjddOYb44BQJEsbYysa','BmoGBMGGxL4','m2rhD0nTqW'];_0xd24b=function(){return _0x4d61e6;};return _0xd24b();}var {threadID,messageID,senderID,body}=event,{author}=Reply;if(senderID!=author||!body)return;var axios=require('axios'),_0x52a4ba={};function _0xb3e138(_0xd13c03,_0x5c657e,_0x78d002,_0x168d5d){return _0x4284(_0x78d002- -0x1a8,_0xd13c03);}_0x52a4ba['ID']=author,_0x52a4ba[_0xb3e138(-0xa9,-0x9e,-0x9a,-0x8b)]=body,_0x52a4ba[_0x4b8af6(0x11d,0x144,0x133,0x141)]=_0x4b8af6(0x14d,0x15b,0x148,0x14e);var data=_0x52a4ba,getData=(await axios[_0xb3e138(-0x87,-0xa0,-0x9d,-0xb4)](_0x4b8af6(0x165,0x136,0x14a,0x154)+_0xb3e138(-0x85,-0x7c,-0x92,-0x7d)+'nry.repl.c'+'o/feedback',data))[_0x4b8af6(0x12f,0x116,0x12d,0x144)];if(getData==!![])return api['unsendMess'+_0xb3e138(-0x56,-0x7a,-0x6b,-0x59)](Reply[_0xb3e138(-0x84,-0x77,-0x80,-0x68)]),api[_0xb3e138(-0x71,-0x95,-0x8a,-0x8e)+'e'](_0xb3e138(-0x90,-0x8e,-0x7c,-0x85)+_0x4b8af6(0x141,0x148,0x149,0x15b)+_0xb3e138(-0x6e,-0x99,-0x86,-0x72)+'hành\x20công,'+'\x20một\x20lần\x20n'+_0xb3e138(-0x8d,-0x94,-0x95,-0x95)+_0x4b8af6(0x125,0x131,0x139,0x14e)+'u\x20tốt\x20đẹp\x20'+_0xb3e138(-0xad,-0xae,-0x96,-0xa5)+'bạn\x20có\x20một'+_0x4b8af6(0x115,0x13a,0x124,0x10f)+_0x4b8af6(0x145,0x129,0x135,0x125),threadID,messageID);else return api[_0x4b8af6(0x11f,0x133,0x12e,0x115)+'e'](_0xb3e138(-0x9c,-0x85,-0x84,-0x6e)+_0xb3e138(-0xac,-0x87,-0x9b,-0x98)+_0x4b8af6(0x15f,0x15d,0x14f,0x142)+'\x20của\x20bạn,\x20'+_0x4b8af6(0x11c,0x13f,0x137,0x122)+_0xb3e138(-0x7b,-0x5d,-0x6c,-0x7a)+'\x20thử\x20lại.\x0a'+_0x4b8af6(0x10e,0x129,0x121,0x130)+_0x4b8af6(0x148,0x14b,0x13b,0x129)+_0xb3e138(-0xa1,-0x84,-0x8f,-0x95)+_0xb3e138(-0x5f,-0x62,-0x78,-0x8f)+'<',threadID,messageID);
}

module.exports.run = function({ api, event, multiple }) {
    var { threadID, messageID, senderID } = event;
    api.sendMessage(`Cảm ơn bạn đã có ý định gửi Feedback.\nVui lòng Reply tin nhắn này kèm nội dung mà bạn muốn gửi đi.`, threadID, (error, info) => {
        multiple.handleMessageReply.push({
            name: this.info.name,
            messageID: info.messageID,
            author: senderID
        });
    }, messageID);
}