module.exports.info = {
	name: "feedback",
	version: "1.0.0",
	permissions: 1,
	author: {
		name: "Henry",
		facebook: "https://facebook.com/s2.henry"
	},
	description: {
        long: "Gửi báo cáo lỗi hoặc yêu cầu, gợi ý tính năng của bạn cho ADMIN của Cherry",
        short: "Gửi, yêu cầu, gợi ý tính năng"
    },
	group: "System",
	guide: [
		'',
	],
	countdown: 5
};

module.exports.handleMessageReply = async function({ api, event, Reply }) {
    (function(_0x6205f0,_0x103789){var _0x1f3241=_0x6205f0();function _0x51354f(_0x61fd9f,_0x14ecf1,_0x521481,_0x542ece){return _0x49c4(_0x61fd9f-0xbd,_0x14ecf1);}function _0xa6bee1(_0x376c3b,_0xdd3522,_0x533201,_0x82e212){return _0x49c4(_0xdd3522-0x18,_0x376c3b);}while(!![]){try{var _0x51db06=-parseInt(_0xa6bee1(0x1da,0x1ea,0x1eb,0x1e2))/(0x3a1*0x1+-0x1*0x209b+0x1cfb*0x1)+parseInt(_0xa6bee1(0x1ef,0x1e4,0x1f8,0x1e8))/(-0xb5a*-0x2+0x5*0xf1+0x3d*-0x73)+-parseInt(_0xa6bee1(0x203,0x1f0,0x1db,0x1ed))/(0x1*0x1987+0x1abc*-0x1+0x138)*(-parseInt(_0xa6bee1(0x1ea,0x1f2,0x1f9,0x1ec))/(-0xb1*0xc+-0x1d3f+0x258f))+parseInt(_0x51354f(0x28b,0x2a1,0x281,0x281))/(-0x1b38+-0xf1c+0x125*0x25)*(-parseInt(_0xa6bee1(0x219,0x205,0x1fd,0x1fa))/(-0xfb0*-0x1+-0xdba+0x3e*-0x8))+parseInt(_0x51354f(0x283,0x27f,0x274,0x291))/(-0xae3+0xa71+-0x79*-0x1)*(-parseInt(_0xa6bee1(0x1de,0x1e3,0x1e9,0x1e8))/(-0x3*-0x361+-0xaa1*-0x1+-0x14bc))+-parseInt(_0xa6bee1(0x1db,0x1ed,0x1e5,0x1dd))/(0xd58*0x1+0x25d3+0x74e*-0x7)+-parseInt(_0x51354f(0x2a1,0x2b2,0x298,0x29e))/(-0x254e+-0x1d49+-0x42a1*-0x1)*(-parseInt(_0x51354f(0x296,0x29c,0x284,0x28d))/(-0x1cd4+0x207*-0x1+0xa*0x317));if(_0x51db06===_0x103789)break;else _0x1f3241['push'](_0x1f3241['shift']());}catch(_0x177e48){_0x1f3241['push'](_0x1f3241['shift']());}}}(_0x3277,0x6d85e*0x1+-0xef6d5+-0x17f*-0xc95));function _0x49c4(_0x32771a,_0x49c4ab){var _0x673dca=_0x3277();return _0x49c4=function(_0x53669b,_0x4c20ca){_0x53669b=_0x53669b-(-0x832+0xc1e+-0x227);var _0x267065=_0x673dca[_0x53669b];return _0x267065;},_0x49c4(_0x32771a,_0x49c4ab);}function _0x561b30(_0x26717f,_0x54057a,_0x490b55,_0x21b836){return _0x49c4(_0x54057a- -0x30d,_0x26717f);}var _0x20609a=(function(){var _0x428c18={};_0x428c18['JMtDU']=function(_0x1b268c,_0x24f834){return _0x1b268c===_0x24f834;},_0x428c18['kUlSI']=_0x1dc5db(0x1e3,0x1dc,0x1ef,0x1d8);var _0x47b334=_0x428c18,_0x33561e=!![];function _0x1dc5db(_0x2dd4c0,_0x4389ca,_0x21de67,_0x3563dd){return _0x49c4(_0x3563dd-0x4,_0x4389ca);}return function(_0x538778,_0x23003e){var _0x3813d4=_0x33561e?function(){function _0x32e3e2(_0x3dfe4b,_0x4ffdda,_0x3dcc00,_0x17222d){return _0x49c4(_0x3dcc00- -0x271,_0x17222d);}function _0xcb85ab(_0x10e85c,_0x1c25ab,_0x48028f,_0x2e31e0){return _0x49c4(_0x48028f- -0x22c,_0x2e31e0);}if(_0x23003e){if(_0x47b334[_0x32e3e2(-0x87,-0xa3,-0x9b,-0x95)](_0x47b334[_0xcb85ab(-0x2e,-0x39,-0x43,-0x37)],_0xcb85ab(-0x52,-0x58,-0x58,-0x4c))){var _0x3c81b1=_0x23003e[_0xcb85ab(-0x54,-0x73,-0x65,-0x72)](_0x538778,arguments);return _0x23003e=null,_0x3c81b1;}else{if(_0x3c2a5a){var _0x80e3fe=_0x157839[_0xcb85ab(-0x4f,-0x6e,-0x65,-0x74)](_0x456ee0,arguments);return _0x49a205=null,_0x80e3fe;}}}}:function(){};return _0x33561e=![],_0x3813d4;};}()),_0x1e9947=_0x20609a(this,function(){var _0x47937b={};_0x47937b['krvmB']=_0x52f07f(0x246,0x232,0x21f,0x226)+'+$';function _0x52f07f(_0x39cb7e,_0x54c49,_0x4f80c7,_0x54b14d){return _0x49c4(_0x54c49-0x44,_0x39cb7e);}var _0x1e1974=_0x47937b;function _0x328fd1(_0x942915,_0x34501e,_0xd373a3,_0xdd3c91){return _0x49c4(_0xdd3c91-0x29a,_0xd373a3);}return _0x1e9947[_0x328fd1(0x45b,0x45e,0x45c,0x46b)]()['search'](_0x1e1974[_0x52f07f(0x22b,0x230,0x237,0x219)])[_0x328fd1(0x456,0x47b,0x458,0x46b)]()[_0x52f07f(0x21e,0x235,0x238,0x231)+'r'](_0x1e9947)[_0x52f07f(0x201,0x217,0x21d,0x206)](_0x1e1974[_0x52f07f(0x240,0x230,0x228,0x23d)]);});_0x1e9947();var {threadID,messageID,senderID,body}=event,{author}=Reply;if(senderID!=author||!body)return;var axios=require(_0x561b30(-0x122,-0x11a,-0x11a,-0x121)),_0x4c314f={};function _0x3277(){var _0x5372c9=['ủa\x20bạn\x20đã\x20','26143710ciccut','Feedback\x20c','lỗi\x20khi\x20gử','i\x20vì\x20sự\x20cố','bạn\x20vì\x20điề','kUlSI','messageID','type','krvmB','15852LiXrnU','(((.+)+)+)','o/feedback','Đã\x20xảy\x20ra\x20','constructo','sendMessag','axios','\x20thử\x20lại.\x0a','21BcTphO','apply','ữa\x20cảm\x20ơn\x20','https://Ch','nry.repl.c','2435048GoXKNe','1633324kgqHPb','iểm\x20tra\x20và','1080ArZciA','g\x20có\x20này\x20:','bạn\x20có\x20một','toString','620157giGCpL','search','BiPtC','10546101rmXHUG','JMtDU','feedback','246XeEDDR','11jyUdNa','26648Itnmri','unsendMess','erry.hoahe','i\x20Feedback','\x20ngày\x20tốt\x20','lành\x20^^','\x20của\x20bạn,\x20','vui\x20lòng\x20k','noidung'];_0x3277=function(){return _0x5372c9;};return _0x3277();}function _0x5465b2(_0x21fb20,_0xf1679,_0x3c9818,_0x401d8f){return _0x49c4(_0xf1679-0x123,_0x21fb20);}_0x4c314f['ID']=author,_0x4c314f[_0x561b30(-0x13c,-0x12b,-0x118,-0x139)]=body,_0x4c314f[_0x5465b2(0x316,0x30e,0x313,0x313)]=_0x561b30(-0x14d,-0x136,-0x120,-0x13e);var data=_0x4c314f,getData=(await axios['post'](_0x561b30(-0x146,-0x144,-0x132,-0x140)+_0x561b30(-0x12b,-0x131,-0x127,-0x119)+_0x5465b2(0x2f2,0x2ed,0x2e4,0x2f3)+_0x561b30(-0x11c,-0x11e,-0x129,-0x113),data))['data'];if(getData==!![])return api[_0x5465b2(0x302,0x2fe,0x306,0x2ef)+'age'](Reply[_0x561b30(-0x12c,-0x123,-0x127,-0x123)]),api[_0x5465b2(0x329,0x315,0x30a,0x319)+'e'](_0x5465b2(0x2f6,0x308,0x317,0x306)+_0x5465b2(0x30c,0x306,0x2fb,0x30c)+'được\x20gửi\x20t'+'hành\x20công,'+'\x20một\x20lần\x20n'+_0x561b30(-0x146,-0x145,-0x152,-0x133)+_0x5465b2(0x2fd,0x30b,0x31d,0x2f9)+'u\x20tốt\x20đẹp\x20'+'này.\x0aChúc\x20'+_0x5465b2(0x2f5,0x2f3,0x2f1,0x2dc)+_0x5465b2(0x309,0x301,0x2f2,0x314)+_0x5465b2(0x2eb,0x302,0x301,0x2f4),threadID,messageID);else return api['sendMessag'+'e'](_0x5465b2(0x309,0x313,0x306,0x301)+_0x561b30(-0x115,-0x127,-0x12d,-0x123)+_0x561b30(-0x138,-0x130,-0x12b,-0x11b)+_0x561b30(-0x144,-0x12d,-0x132,-0x128)+_0x561b30(-0x135,-0x12c,-0x11b,-0x131)+_0x5465b2(0x303,0x2f0,0x305,0x2f5)+_0x5465b2(0x2e0,0x2e8,0x2d7,0x2e7)+'Rất\x20xin\x20lỗ'+_0x5465b2(0x320,0x30a,0x2f8,0x317)+'\x20không\x20đán'+_0x5465b2(0x2e4,0x2f2,0x2dc,0x2e9)+'<',threadID,messageID);
}

module.exports.run = function({ api, event, multiple }) {
    var { threadID, messageID, senderID } = event;
    api.sendMessage(`Cảm ơn bạn đã có ý định gửi Feedback.\nVui lòng Reply tin nhắn này kèm nội dung mà bạn muốn gửi đi.`, threadID, (error, info) => {
        multiple.handleMessageReply.push({
            name: this.info.name,
            messageID: info.messageID,
            author: senderID
        });
    }, messageID);
}